<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<link rel="stylesheet" type="text/css" href="http://yui.yahooapis.com/3.0.0b1/build/cssreset/reset-min.css" />
	<link rel="stylesheet" type="text/css" href="http://yui.yahooapis.com/3.0.0b1/build/cssbase/base-min.css" />
	<link rel="stylesheet" href="styles/main.css" type="text/css" media="screen" charset="utf-8" />
	<link rel="shortcut icon" href="images/utaka_16_icon.png" type="image/x-icon" />
	<title>Utaka REST API – Object</title>
	<script type="text/javascript" charset="utf-8" src="scripts/main.js"></script>
</head>
<body onresize="navResize();" onload="navResize();">
	<div class="title">
		Utaka – A Cloud Storage Service
	</div>
	<img class="logo" src="images/utaka_fish_left.png" />
	<object id="nav" class="right_sidebar" data="nav.html" type="text/html"></object>
	<div class="content">
		<h1>Utaka REST API – Object</h1>
		<a name="get_object"></a><a name="head_object"></a>
		<h2><span class="code">GET</span> Object / <span class="code">HEAD</span> Object</h2>
		<p class="rest_method_description">The <code class="http_method">GET</code> method, when given a bucket and object name, will return the object. The <code class="http_method">HEAD</code> method has the exact same parameters but will only return the object&#x27;s headers and metadata, not the object itself.</p>
		<h3>Request</h3>
		<pre class="http">
GET /<span class="http_replace">objectName</span> HTTP/1.1
Host: <span class="http_replace">bucketName</span>.file.hisg.org
Date: <span class="http_replace">date</span>
Authorization: <span class="http_replace">signature</span>
Range:bytes=<span class="http_replace">byte_range</span>
If-Modified-Since: <span class="http_replace">date</span>
If-Unmodified-Since: <span class="http_replace">date</span>
If-Match: <span class="http_replace">eTag</span>
If-None-Match: <span class="http_replace">eTag</span>
If-Range: <span class="http_replace">date|eTag</span></pre>
		<h4>Headers / Parameters</h4>
		<div class="under_h4">
			<table class="rest_description">
				<tr><th>Name</th><th>Description</th></tr>
				<tr>
					<td><a name="Range"></a><code class="http_header_name">Range</code></td>
					<td>
						Gets the given range of bytes rather than the whole object.<br />
						Data: String<br />
						Optional
					</td>
				</tr>
				<tr>
					<td><a name="If-Modified-Since"></a><code class="http_header_name">If-Modified-Since</code></td>
					<td>
						Only returns the object if it has been modified after the date given.<br />
						Data: String (date format)<br />
						Optional
					</td>
				</tr>
				<tr>
					<td><a name="If-Unmodified-Since"></a><code class="http_header_name">If-Unmodified-Since</code></td>
					<td>
						Only returns the object if it has not been modified after the date given.<br />
						Data: String (date format)<br />
						Optional
					</td>
				</tr>
				<tr>
					<td><a name="If-Match"></a><code class="http_header_name">If-Match</code></td>
					<td>
						Only returns the file if its eTag matches the given eTag.<br />
						Data: String<br />
						Optional
					</td>
				</tr>
				<tr>
					<td><a name="If-None-Match"></a><code class="http_header_name">If-None-Match</code></td>
					<td>
						Only returns the file if its eTag does not match the given eTag.<br />
						Data: String<br />
						Optional
					</td>
				</tr>
				<tr>
					<td><a name="If-Range"></a><code class="http_header_name">If-Range</code></td>
					<td>
						Used alongside <a href="#Range" class="code http_header_name">Range</a>. Only returns the specified range if the string given could satisfy <a href="#If-Unmodified-Since" class="code http_header_name">If-Unmodified-Since</a> or <a href="#If-Match" class="code http_header_name">If-Match</a>. Otherwise, return the whole object.<br />
						Data: String (date or eTag format)<br />
						Optional
					</td>
				</tr>
			</table>
		</div>
		<h3>Response</h3>
		<pre class="http">
HTTP/1.1 200 OK
Date: <span class="http_replace">date</span>
Last-Modified: <span class="http_replace">last_modified</span>
ETag: &quot;<span class="http_replace">eTag</span>&quot;
Content-Type: <span class="http_replace">type</span>
Content-Length: <span class="http_replace">length</span>
Content-Disposition: <span class="http_replace">disposition</span>
Content-Range: <span class="http_replace">range</span>
Content-Encoding: <span class="http_replace">encoding</span>
Cache-Control: <span class="http_replace">caching</span>
Expires: <span class="http_replace">expiration</span>
Connection: close
Server: HISGUtaka
<span class="http_replace">file_content</span></pre>
		<h4>Headers / Elements</h4>
		<div class="under_h4">
			<table class="rest_description">
				<tr><th>Name</th><th>Description</th></tr>
				<tr>
					<td><a name="Last-Modified"></a><code class="http_header_name">Last-Modified</code></td>
					<td>
						The date the object was last modified.<br />
						Data: String (date format)
					</td>
				</tr>
				<tr>
					<td><a name="getETag"></a><code class="http_header_name">ETag</code></td>
					<td>
						The MD5 hash of the object.<br />
						Data: String
					</td>
				</tr>
				<tr>
					<td><a name="getContent-Type"></a><code class="http_header_name">Content-Type</code></td>
					<td>
						The value of the <a href="#Content-Type" class="code http_header_name">Content-Type</a> header when the the object was <code class="http_method">PUT</code>.<br />
						Data: String
					</td>
				</tr>
				<tr>
					<td><a name="getContent-Disposition"></a><code class="http_header_name">Content-Disposition</code></td>
					<td>
						The value of the <a href="#Content-Disposition" class="code http_header_name">Content-Disposition</a> header when the the object was <code class="http_method">PUT</code>.<br />
						Data: String – Hidden if blank
					</td>
				</tr>
				<tr>
					<td><a name="Content-Range"></a><code class="http_header_name">Content-Range</code></td>
					<td>
						The range of bytes being returned if the <a href="#Range" class="code http_header_name">Range</a> header was used in the request.<br />
						Data: String – Hidden if blank
					</td>
				</tr>
				<tr>
					<td><a name="getContent-Encoding"></a><code class="http_header_name">Content-Encoding</code></td>
					<td>
						The value of the <a href="#Content-Encoding" class="code http_header_name">Content-Encoding</a> header when the the object was <code class="http_method">PUT</code>.<br />
						Data: String – Hidden if blank
					</td>
				</tr>
				<tr>
					<td><a name="getCache-Control"></a><code class="http_header_name">Cache-Control</code></td>
					<td>
						The value of the <a href="#Cache-Control" class="code http_header_name">Cache-Control</a> header when the the object was <code class="http_method">PUT</code>.<br />
						Data: String – Hidden if blank
					</td>
				</tr>
				<tr>
					<td><a name="getExpires"></a><code class="http_header_name">Expires</code></td>
					<td>
						The value of the <a href="#Expires" class="code http_header_name">Expires</a> header when the the object was <code class="http_method">PUT</code>.<br />
						Data: String (date format) – Hidden if blank
					</td>
				</tr>
				<tr>
					<td><a name="x-amz-meta-"></a><a name="x-hisg-meta-"></a><code class="http_header_name">x-amz-meta-</code> | <code class="http_header_name">x-hisg-meta-</code></td>
					<td>
						Any custom metadata that was <code class="http_method">PUT</code> with the object.<br />
						Data: String
					</td>
				</tr>
			</table>
		</div>
		<a name="put_bucket"></a>
		<h2><span class="code">PUT</span> Object</h2>
		<p class="rest_method_description">The <code class="http_method">PUT</code> method, when given a bucket and object name, will create or modify the object.</p>
		<h3>Request</h3>
		<pre class="http">
PUT /<span class="http_replace">objectName</span> HTTP/1.1
Host: <span class="http_replace">bucketName</span>.file.hisg.org
Content-Length: <span class="http_replace">length</span>
Content-MD5: <span class="http_replace">md5_digest</span>
Content-Type: <span class="http_replace">type</span>
Content-Disposition: <span class="http_replace">disposition</span>
Content-Encoding: <span class="http_replace">encoding</span>
Cache-Control: <span class="http_replace">caching</span>
Expires: <span class="http_replace">expiration</span>
<span class="http_replace">&lt;custom metadata&gt;</span>
Date: <span class="http_replace">date</span>
Authorization: <span class="http_replace">signature</span></pre>
		<h4>Headers / Parameters</h4>
		<div class="under_h4">
			<table class="rest_description">
				<tr><th>Name</th><th>Description</th></tr>
				<tr>
					<td><a name="Content-MD5"></a><code class="http_header_name">Content-MD5</code></td>
					<td>
						Used to ensure object integrity during transmission. Utaka will check the object against this and return an error if the object was corrupted.<br />
						Data: String<br />
						Optional
					</td>
				</tr>
				<tr>
					<td><a name="Content-Type"></a><code class="http_header_name">Content-Type</code></td>
					<td>
						Utaka will return this whenever the object is requested. The MIME type of the object.<br />
						Data: String<br />
						Optional
					</td>
				</tr>
				<tr>
					<td><a name="Content-Disposition"></a><code class="http_header_name">Content-Disposition</code></td>
					<td>
						Utaka will return this whenever the object is requested. Can be used to tell a browser how to handle a file.<br />
						Data: String<br />
						Optional
					</td>
				</tr>
				<tr>
					<td><a name="Content-Encoding"></a><code class="http_header_name">Content-Encoding</code></td>
					<td>
						Utaka will return this whenever the object is requested. Indicates how the object is encoded.<br />
						Data: String<br />
						Optional
					</td>
				</tr>
				<tr>
					<td><a name="Cache-Control"></a><code class="http_header_name">Cache-Control</code></td>
					<td>
						Utaka will return this whenever the object is requested. Indicates how the object should be cached.<br />
						Data: String<br />
						Optional
					</td>
				</tr>
				<tr>
					<td><a name="Expires"></a><code class="http_header_name">Expires</code></td>
					<td>
						The date when the cache should expire.<br />
						Data: String (date format)<br />
						Optional
					</td>
				</tr>
				<tr>
					<td><a name="x-amz-meta-"></a><a name="x-hisg-meta-"></a><code class="http_header_name">x-amz-meta-</code> | <code class="http_header_name">x-hisg-meta-</code></td>
					<td>
						Custom metadata. Add a suffix to either string (depending on the Utaka configuration) and Utaka will save the header name and value.<br />
						Data: String<br />
						Optional
					</td>
				</tr>
			</table>
		</div>
		<h3>Response</h3>
		<pre class="http">
HTTP/1.1 200 OK
Date: <span class="http_replace">date</span>
Content-Length: 0
ETag: &quot;<span class="http_replace">eTag</span>&quot;
Connection: close
Server: HISGUtaka</pre>
		<h4>Headers / Elements</h4>
		<div class="under_h4">
			<table class="rest_description">
				<tr><th>Name</th><th>Description</th></tr>
				<tr>
					<td><a name="ETag"></a><code class="http_header_name">ETag</code></td>
					<td>
						The MD5 hash of the object.<br />
						Data: String
					</td>
				</tr>
			</table>
		</div>
		<a name="delete_object"></a>
		<h2><span class="code">DELETE</span> Object</h2>
		<p class="rest_method_description">The <code class="http_method">DELETE</code> method, when given a bucket and object name, will permanently delete the object.</p>
		<h3>Request</h3>
		<pre class="http">
DELETE /<span class="http_replace">objectName</span> HTTP/1.1
Host: <span class="http_replace">bucketName</span>.file.hisg.org
Date: <span class="http_replace">date</span>
Authorization: <span class="http_replace">signature</span></pre>
		<h3>Response</h3>
		<pre class="http">
HTTP/1.1 204 No Content
Date: <span class="http_replace">date</span>
Connection: close
Server: HISGUtaka</pre>
		<a name="copy_object"></a>
		<h2><span class="code">COPY</span> Object</h2>
		<p class="rest_method_description">The <code class="http_method">COPY</code> method will clone an object. The object name and bucket name in the Host header and URI are the for the clone, not the source.</p>
		<h3>Request</h3>
		<pre class="http">
COPY /<span class="http_replace">objectName</span> HTTP/1.1
Host: <span class="http_replace">bucketName</span>.file.hisg.org
x-amz-copy-source: <span class="http_replace">/source_bucket/sourceObject
x-amz-metadata-directive: <span class="http_replace">COPY|REPLACE</span>
x-amz-copy-source-if-match: <span class="http_replace">etag</span>
x-amz-copy-source-if-none-match: <span class="http_replace">etag</span>
x-amz-copy-source-if-unmodified-since: <span class="http_replace">date</span>
x-amz-copy-source-if-modified-since: <span class="http_replace">date</span>
<span class="http_replace">&lt;custom metadata&gt;</span>
Date: <span class="http_replace">date</span>
Authorization: <span class="http_replace">signature</span></pre>
		<h3>Response</h3>
		<pre class="http">
HTTP/1.1 200 OK
Date: <span class="http_replace">date</span>
Connection: close
Server: HISGUtaka</pre>
	</div>
</body>
</html>
